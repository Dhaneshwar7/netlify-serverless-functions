<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Jamstack Explorers - Up and Running with Serverless Functions</title>
	</head>
	<body>
		<h1>Up and Running with Serverless Functions</h1>
		<button id="fetch-btn">Fetch</button>
		<hr />
		<button id="fetch-hoen-btn">Fetch hoen</button>
		<hr />
		<button id="fetch-kato-btn">Fetch kato</button>
		<p id="response-output">Response Placeholder</p>

		<script>
			document.addEventListener('DOMContentLoaded', () => {
				const fetchBtn = document.getElementById('fetch-btn');
				const fetchHoenbtn = document.getElementById('fetch-hoen-btn');
				const fetchKatobtn = document.getElementById('fetch-kato-btn');
				const responseText = document.getElementById('response-output');

				fetchHoenbtn.addEventListener('click', async () => {
					const res = await fetch('/.netlify/functions/pokedex', {
						method: 'POST',
						body: JSON.stringify({
							region: 'kanto',
						}),
					}).then(res => res.json());
					console.log(res);

					responseText.innerText = JSON.stringify(res);
				});

				fetchKatobtn.addEventListener('click', async () => {
					const res = await fetch('/.netlify/functions/pokedex', {
						method: 'POST',
						body: JSON.stringify({
							region: 'hoenn',
						}),
					}).then(res => res.json());
					console.log(res);

					responseText.innerText = JSON.stringify(res);
				});
				fetchBtn.addEventListener('click', async () => {
					const response = await fetch('/.netlify/functions/hello-world').then(
						response => response.json()
					);

					responseText.innerText = JSON.stringify(response);
				});
			});
		</script>
	</body>
</html>
